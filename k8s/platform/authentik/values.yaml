---
authentik:
  replicas: 1
  authentik:
    log_level: info
    error_reporting:
      enabled: true

  serviceAccount:
    create: true

  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod
      gethomepage.dev/enabled: "true"
      gethomepage.dev/name: Authentik
      gethomepage.dev/description: Identity Provider
      gethomepage.dev/group: System
      gethomepage.dev/icon: authentik.png
    hosts:
      - host: &host idp.mdeleon.dev
        paths:
          - path: "/"
            pathType: Prefix
    tls:
      - secretName: authentik-tls-cert
        hosts:
          - *host
  redis:
    enabled: true

  prometheus:
    serviceMonitor:
      create: false

  volumeMounts:
    - mountPath: /media
      name: media
  volumes:
    - name: media
      persistentVolumeClaim:
        claimName: authentik-media-pvc
